
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCKBLqHCwiM3qAbkozWmKQL3pUdXKzR8KQ",
    authDomain: "smarthomebyovanindagusdi.firebaseapp.com",
    databaseURL: "https://smarthomebyovanindagusdi-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "smarthomebyovanindagusdi",
    storageBucket: "smarthomebyovanindagusdi.firebasestorage.app",
    messagingSenderId: "416650342472",
    appId: "1:416650342472:web:bf7df8e6045ad1cf7de87d",
    measurementId: "G-T9KKEQEMER"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¡Smart Home Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1 class="title">ğŸ¡Smart HomeğŸ¡</h1>
<h1 class="title">ğŸ‘¨ğŸ»â€ğŸ”§Monitoring & ControlğŸ‘¨ğŸ»â€ğŸ”§</h1>


<div class="device-grid">

    <!-- LAMPU 1 -->
    <div class="device-box">
        <h2>Lampu Utama</h2>
        <img id="lamp1_img" src="lamp_off.png" class="device-img">
        <button id="lamp1_btn" class="btn off" onclick="toggleLamp(1)">OFF</button>
    </div>

    <!-- FAN -->
    <div class="device-box">
        <h2>Kipas Angin</h2>
        <img id="fan_img" src="fan_off.png" class="device-img">
        <button id="fan_btn" class="btn off" onclick="toggleFan()">OFF</button>
    </div>

    <!-- LAMPU 3 -->
    <div class="device-box">
        <h2>Lampu Tidur</h2>
        <img id="lamp3_img" src="lamp_off.png" class="device-img">
        <button id="lamp3_btn" class="btn off" onclick="toggleLamp(3)">OFF</button>
    </div>

    <!-- LAMPU 4 -->
    <div class="device-box">
        <h2>Lampu Belajar</h2>
        <img id="lamp4_img" src="lamp_off.png" class="device-img">
        <button id="lamp4_btn" class="btn off" onclick="toggleLamp(4)">OFF</button>
    </div>

</div>

<!-- ===== GAUGE GRID (Temperature + Humidity) ===== -->
<div class="gauge-grid">

    <!-- TEMPERATURE GAUGE -->
    <div class="temp-gauge-card">
        <h3>Temperature</h3>
        <div class="temp-gauge-semicircle">
            <svg class="semi-svg" viewBox="0 0 200 110">
                <defs>
                    <linearGradient id="tempGradient" gradientUnits="userSpaceOnUse">
                        <stop offset="0%"  stop-color="#0099ff"/>
                        <stop offset="5%" stop-color="#0099ff"/>
                        <stop offset="30%" stop-color="#21c821"/>
                        <stop offset="50%" stop-color="#ffe800"/>
                        <stop offset="75%" stop-color="#ffe800"/>
                        <stop offset="90%" stop-color="#ff3b3b"/>
                    </linearGradient>
                </defs>
                <path
                    d="M 10 100 A 90 90 0 0 1 190 100"
                    stroke="url(#tempGradient)"
                    stroke-width="20"
                    fill="none"
                    stroke-linecap="round"
                />
            </svg>
            <div id="temp-needle" class="temp-needle-semi"></div>
            <div id="temp-text" class="temp-text-semi">0Â°C</div>
        </div>
    </div>

    <!-- HUMIDITY GAUGE -->
    <div class="temp-gauge-card">
        <h3>Humidity</h3>
        <div class="humidity-gauge-semicircle">
            <svg class="semi-svg" viewBox="0 0 200 110">
                <defs>
                    <linearGradient id="humidityGradient" gradientUnits="userSpaceOnUse">
                        <stop offset="0%"  stop-color="#21c821"/>
                        <stop offset="100%" stop-color="#ff3b3b"/>
                    </linearGradient>
                </defs>
                <path
                    d="M 10 100 A 90 90 0 0 1 190 100"
                    stroke="url(#humidityGradient)"
                    stroke-width="20"
                    fill="none"
                    stroke-linecap="round"
                />
            </svg>
            <div id="humidity-needle" class="temp-needle-semi"></div>
            <div id="humidity-text" class="temp-text-semi">0%</div>
        </div>
    </div>

</div>

<!-- ===== GAUGE GRID: Voltage + Current ===== -->
<div class="gauge-grid">

    <!-- VOLTAGE GAUGE -->
    <div class="temp-gauge-card">
        <h3>Voltage</h3>
        <div class="voltage-gauge-semicircle">
            <svg class="semi-svg" viewBox="0 0 200 110">
                <defs>
                    <linearGradient id="voltageGradient" gradientUnits="userSpaceOnUse">
                        <stop offset="0%" stop-color="#ffe800"/>
                        <stop offset="80%" stop-color="#ff3b3b"/>
                    </linearGradient>
                </defs>
                <path
                    d="M 10 100 A 90 90 0 0 1 190 100"
                    stroke="url(#voltageGradient)"
                    stroke-width="20"
                    fill="none"
                    stroke-linecap="round"
                />
            </svg>
            <div id="voltage-needle" class="temp-needle-semi"></div>
            <div id="voltage-text" class="temp-text-semi">0V</div>
        </div>
    </div>

    <!-- CURRENT GAUGE -->
    <div class="temp-gauge-card">
        <h3>Current</h3>
        <div class="current-gauge-semicircle">
            <svg class="semi-svg" viewBox="0 0 200 110">
                <defs>
                    <linearGradient id="currentGradient" gradientUnits="userSpaceOnUse">
                        <stop offset="0%" stop-color="#ffe800"/>
                        <stop offset="100%" stop-color="#ff3b3b"/>
                    </linearGradient>
                </defs>
                <path
                    d="M 10 100 A 90 90 0 0 1 190 100"
                    stroke="url(#currentGradient)"
                    stroke-width="20"
                    fill="none"
                    stroke-linecap="round"
                />
            </svg>
            <div id="current-needle" class="temp-needle-semi"></div>
            <div id="current-text" class="temp-text-semi">0A</div>
        </div>
    </div>

</div>

<!-- ===== PZEM MONITORING ===== -->
<div class="pzem-grid">
    <div class="pzem-box">
        <h3>Energy</h3>
        <div id="energy-text" class="pzem-value">0.0 kWh</div>
    </div>
    <div class="pzem-box">
        <h3>Power</h3>
        <div id="power-text" class="pzem-value">0.0 W</div>
    </div>
    <div class="pzem-box">
        <h3>Frequency</h3>
        <div id="freq-text" class="pzem-value">0.0 Hz</div>
    </div>
    <div class="pzem-box">
        <h3>Power Factor</h3>
        <div id="pf-text" class="pzem-value">0.0</div>
    </div>
</div>



<script src="script.js"></script>
</body>
</html>




